let count_modal=0,btn=document.querySelector(".btn-new"),footer=document.querySelector(".footer");function open_modal(){if(count_modal%2==0){count_modal++,footer.style.background="rgba(0, 42, 255, 0.23)","en"==JSON.parse(localStorage.getItem("user")).lang?btn.innerHTML="Close":btn.innerHTML="Закрити",document.querySelector(".modal-bg").style.display="block"}else{count_modal++,"en"==JSON.parse(localStorage.getItem("user")).lang?btn.innerHTML="New":btn.innerHTML="Новий",footer.style.background="",document.querySelector(".modal-bg").style.display="none"}}function item(e){let t=e;window.item_global=t}function save_data(){let e=window.item_global;null==e&&(e=1);let t=[];t=localStorage.getItem("arr"),t=t.split(",");for(let e=0;e<t.length;e++)t[e]=Number(t[e]);0==t[0]&&t.shift(),t.push(e),localStorage.setItem("arr",t),footer.style.background="",document.querySelector(".modal-bg").style.display="none",location.reload()}let arr=[];arr=localStorage.getItem("arr"),arr=arr.split(",");for(let e=0;e<arr.length;e++)arr[e]=Number(arr[e]);if(0!==arr[0]){let e,t,n,o,a,l,r,c,d,i,s,m,u,p,g,b,y=document.querySelector("main");for(let f=0;f<arr.length;f++)e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),o=document.createElement("span"),a=document.createElement("img"),l=document.createElement("div"),r=document.createElement("div"),c=document.createElement("img"),d=document.createElement("div"),i=document.createElement("p"),s=document.createElement("p"),m=document.createElement("div"),u=document.createElement("img"),p=document.createElement("div"),g=document.createElement("p"),b=document.createElement("p"),e.className="block",t.className="top",o.className="lng-approach",a.className="edit",l.className="bottom",r.className="left-block",c.className="motivation-img",d.className="left-text",i.className="left-state lng-state",s.className="lng-leftMotivation",m.className="right-block",u.className="repeats-img",p.className="right-text",g.className="right-state",b.className="lng-repeats",n.innerHTML=f+1,o.innerHTML=" approach",a.setAttribute("src","img/today-approaches/edit.png"),a.setAttribute("onclick","edit_modal("+f+")"),c.setAttribute("src","img/today-approaches/motivation.png"),s.innerHTML="You could",i.innerHTML="Good",u.setAttribute("src","img/today-approaches/repeats.png"),b.innerHTML="Repeats",g.innerHTML=arr[f],y.append(e),e.append(t),t.append(n),n.append(o),t.append(a),e.append(l),l.append(r),r.append(c),r.append(d),d.prepend(i),d.append(s),l.append(m),m.append(u),m.append(p),p.prepend(g),p.append(b)}else{let e=document.querySelector(".main"),t=document.createElement("p");t.className="lack","en"==JSON.parse(localStorage.getItem("user")).lang?t.innerHTML="No more approach today.":(t.innerHTML="Сьогодні ще ні одного підходу.",t.style.fontFamily='"Roboto Mono", monospace'),e.append(t)}function edit_modal(e){document.querySelector(".modal-bg-edit").style.display="block";document.querySelector(".count").innerHTML=e+1;"en"==JSON.parse(localStorage.getItem("user")).lang?btn.innerHTML="Close":btn.innerHTML="Закрити",btn.setAttribute("onclick","close_editModal()"),footer.style.background="rgba(0, 42, 255, 0.23)",document.querySelector(".input").setAttribute("placeholder",arr[e]);window.globalVar=e}function close_editModal(){document.querySelector(".modal-bg-edit").style.display="none","en"==JSON.parse(localStorage.getItem("user")).lang?btn.innerHTML="New":btn.innerHTML="Новий",btn.setAttribute("onclick","open_modal()"),footer.style.background=""}function delete_data(){let e=window.globalVar;arr.splice(e,1),localStorage.setItem("arr",arr),document.querySelector(".modal-bg-edit").style.display="none",btn.setAttribute("onclick","open_modal()"),footer.style.background="",location.reload()}function save_changes(){let e=document.querySelector(".input").value;if(""==e||Number(e)<=0||Number(e)>300)alert("Error");else{let t=window.globalVar;arr[t]=Number(e),localStorage.setItem("arr",arr),close_editModal(),location.reload()}}let user=localStorage.getItem("user");user=JSON.parse(user),null==user.lang&&(user.lang="en"),location.href=window.location.pathname+"#"+user.lang;const arrLeng=["en","ua"];function changeLang(){let e=window.location.hash;e=e.substring(1),arrLeng.includes(e)||(location.href=window.location.pathname+"#en",location.reload()),user=e;for(let t in todayLng){if("title"==t){const n=document.querySelector(".lng-"+t);if(null==n)continue;n.innerHTML=todayLng[t][e]}const n=document.querySelectorAll(".lng-"+t);if(null!=n)for(let o=0;o<n.length;o++)n[o].innerHTML=todayLng[t][e],n[o].style.fontFamily='"Roboto Mono", monospace'}}changeLang();